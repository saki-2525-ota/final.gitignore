<section id="reservations-list">
  <h2 id="current-date">2025年12月18日 (木) の予約</h2>

  <table>
    <thead>
      <tr>
        <th></th>
        <th>時間</th>
        <th>名前</th>
        <th>人数 (子供の数)</th>
        <th>希望の席</th>
        <th>メモ</th>
      </tr>
    </thead>
    <tbody id="reservation-body">
      <tr>
        <td rowspan="3">16時</td>
        <td>16:00</td>
        <td>ナカヤマ様</td>
        <td>　　　5(2)</td>
        <td>テーブル</td>
        <td></td>
      </tr>
      <tr>
        <td>16:00</td>
        <td>イケダ様</td>
        <td>　　　3</td>
        <td>テーブル</td>
        <td>　　飲み放題</td>
      </tr>
      <tr>
        <td>16:30</td>
        <td>ヤスイ様</td>
        <td>　　　8(3)</td>
        <td>座敷</td>
        <td>　子供用椅子用意</td>
      </tr>

      <tr>
        <td rowspan="3">17時</td>
        <td>17:15</td>
        <td>ノムラ様</td>
        <td>　　　2</td>
        <td>カウンター</td>
        <td></td>
      </tr>
      <tr>
        <td>17:30</td>
        <td>タケウチ様</td>
        <td>　　　2</td>
        <td>カウンター</td>
        <td></td>
      </tr>
      <tr>
        <td>17:45</td>
        <td>マルヤマ様</td>
        <td>　　　4(2)</td>
        <td>座敷</td>
        <td></td>
      </tr>

      <tr>
        <td rowspan="2">18時</td>
        <td>18:00</td>
        <td>サトウ様</td>
        <td>　　　3</td>
        <td>テーブル</td>
        <td></td>
      </tr>
      <tr>
        <td>18:00</td>
        <td>タナカ様</td>
        <td>　　　4</td>
        <td>座敷</td>
        <td>　　飲み放題</td>
      </tr>
    </tbody>
  </table>

  <div class="date-nav">
    <a id="nav-yesterday" href="/reservations?date=2025-12-17" class="nav-button left">← 昨日</a>

    <a id="nav-tomorrow" href="/reservations?date=2025-12-19" class="nav-button right">明日 →</a>
  </div>
</section>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const tomorrow = document.getElementById('nav-tomorrow');
    const nav = document.querySelector('.date-nav');
    if (!tomorrow || !nav) return;

    function applyFixed() {
      // 幅が狭い場合は固定しない
      if (window.innerWidth <= 640) {
        tomorrow.classList.remove('fixed-to-viewport');
        tomorrow.style.top = '';
        return;
      }

      // nav の縦位置に合わせて固定する
      const rect = nav.getBoundingClientRect();
      const top = rect.top + window.scrollY;
      tomorrow.classList.add('fixed-to-viewport');
      // ビューポート上の位置を合わせるため top をセット
      tomorrow.style.top = `${rect.top + 8}px`;
    }

    applyFixed();
    window.addEventListener('resize', applyFixed);
    window.addEventListener('scroll', applyFixed);
  });
</script>
